(this["webpackJsonptrip-tracker"]=this["webpackJsonptrip-tracker"]||[]).push([[47],{105:function(t,e,n){var o={"./2015/semantic-location-history-AUGUST2015":[42,0],"./2015/semantic-location-history-AUGUST2015.ts":[42,0],"./2015/semantic-location-history-DECEMBER2015":[43,1],"./2015/semantic-location-history-DECEMBER2015.ts":[43,1],"./2015/semantic-location-history-JULY2015":[44,2],"./2015/semantic-location-history-JULY2015.ts":[44,2],"./2015/semantic-location-history-NOVEMBER2015":[45,3],"./2015/semantic-location-history-NOVEMBER2015.ts":[45,3],"./2015/semantic-location-history-OCTOBER2015":[46,4],"./2015/semantic-location-history-OCTOBER2015.ts":[46,4],"./2015/semantic-location-history-SEPTEMBER2015":[47,5],"./2015/semantic-location-history-SEPTEMBER2015.ts":[47,5],"./2016/semantic-location-history-AUGUST2016":[48,6],"./2016/semantic-location-history-AUGUST2016.ts":[48,6],"./2016/semantic-location-history-NOVEMBER2016":[49,7],"./2016/semantic-location-history-NOVEMBER2016.ts":[49,7],"./2016/semantic-location-history-OCTOBER2016":[50,8],"./2016/semantic-location-history-OCTOBER2016.ts":[50,8],"./2016/semantic-location-history-SEPTEMBER2016":[51,9],"./2016/semantic-location-history-SEPTEMBER2016.ts":[51,9],"./2017/semantic-location-history-APRIL2017":[52,10],"./2017/semantic-location-history-APRIL2017.ts":[52,10],"./2017/semantic-location-history-AUGUST2017":[53,11],"./2017/semantic-location-history-AUGUST2017.ts":[53,11],"./2017/semantic-location-history-DECEMBER2017":[54,12],"./2017/semantic-location-history-DECEMBER2017.ts":[54,12],"./2017/semantic-location-history-FEBRUARY2017":[55,13],"./2017/semantic-location-history-FEBRUARY2017.ts":[55,13],"./2017/semantic-location-history-JANUARY2017":[56,14],"./2017/semantic-location-history-JANUARY2017.ts":[56,14],"./2017/semantic-location-history-JULY2017":[57,15],"./2017/semantic-location-history-JULY2017.ts":[57,15],"./2017/semantic-location-history-JUNE2017":[58,16],"./2017/semantic-location-history-JUNE2017.ts":[58,16],"./2017/semantic-location-history-MARCH2017":[59,17],"./2017/semantic-location-history-MARCH2017.ts":[59,17],"./2017/semantic-location-history-MAY2017":[60,18],"./2017/semantic-location-history-MAY2017.ts":[60,18],"./2017/semantic-location-history-NOVEMBER2017":[61,19],"./2017/semantic-location-history-NOVEMBER2017.ts":[61,19],"./2017/semantic-location-history-OCTOBER2017":[62,20],"./2017/semantic-location-history-OCTOBER2017.ts":[62,20],"./2017/semantic-location-history-SEPTEMBER2017":[63,21],"./2017/semantic-location-history-SEPTEMBER2017.ts":[63,21],"./2018/semantic-location-history-APRIL2018":[64,22],"./2018/semantic-location-history-APRIL2018.ts":[64,22],"./2018/semantic-location-history-AUGUST2018":[65,23],"./2018/semantic-location-history-AUGUST2018.ts":[65,23],"./2018/semantic-location-history-DECEMBER2018":[66,24],"./2018/semantic-location-history-DECEMBER2018.ts":[66,24],"./2018/semantic-location-history-FEBRUARY2018":[67,25],"./2018/semantic-location-history-FEBRUARY2018.ts":[67,25],"./2018/semantic-location-history-JANUARY2018":[68,26],"./2018/semantic-location-history-JANUARY2018.ts":[68,26],"./2018/semantic-location-history-JULY2018":[69,27],"./2018/semantic-location-history-JULY2018.ts":[69,27],"./2018/semantic-location-history-JUNE2018":[70,28],"./2018/semantic-location-history-JUNE2018.ts":[70,28],"./2018/semantic-location-history-MARCH2018":[71,29],"./2018/semantic-location-history-MARCH2018.ts":[71,29],"./2018/semantic-location-history-MAY2018":[72,30],"./2018/semantic-location-history-MAY2018.ts":[72,30],"./2018/semantic-location-history-NOVEMBER2018":[73,31],"./2018/semantic-location-history-NOVEMBER2018.ts":[73,31],"./2018/semantic-location-history-OCTOBER2018":[74,32],"./2018/semantic-location-history-OCTOBER2018.ts":[74,32],"./2018/semantic-location-history-SEPTEMBER2018":[75,33],"./2018/semantic-location-history-SEPTEMBER2018.ts":[75,33],"./2019/semantic-location-history-APRIL2019":[76,34],"./2019/semantic-location-history-APRIL2019.ts":[76,34],"./2019/semantic-location-history-AUGUST2019":[77,35],"./2019/semantic-location-history-AUGUST2019.ts":[77,35],"./2019/semantic-location-history-DECEMBER2019":[78,36],"./2019/semantic-location-history-DECEMBER2019.ts":[78,36],"./2019/semantic-location-history-FEBRUARY2019":[79,37],"./2019/semantic-location-history-FEBRUARY2019.ts":[79,37],"./2019/semantic-location-history-JANUARY2019":[80,38],"./2019/semantic-location-history-JANUARY2019.ts":[80,38],"./2019/semantic-location-history-JULY2019":[81,39],"./2019/semantic-location-history-JULY2019.ts":[81,39],"./2019/semantic-location-history-JUNE2019":[82,40],"./2019/semantic-location-history-JUNE2019.ts":[82,40],"./2019/semantic-location-history-MARCH2019":[83,41],"./2019/semantic-location-history-MARCH2019.ts":[83,41],"./2019/semantic-location-history-MAY2019":[84,42],"./2019/semantic-location-history-MAY2019.ts":[84,42],"./2019/semantic-location-history-NOVEMBER2019":[85,43],"./2019/semantic-location-history-NOVEMBER2019.ts":[85,43],"./2019/semantic-location-history-OCTOBER2019":[86,44],"./2019/semantic-location-history-OCTOBER2019.ts":[86,44],"./2019/semantic-location-history-SEPTEMBER2019":[87,45],"./2019/semantic-location-history-SEPTEMBER2019.ts":[87,45],"./2020/semantic-location-history-JANUARY2020":[88,46],"./2020/semantic-location-history-JANUARY2020.ts":[88,46]};function a(t){if(!n.o(o,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],a=e[0];return n.e(e[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=105,t.exports=a},106:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(16),c=n.n(i),s=(n(95),n(96),n(22)),r=n(18),l=function(){return a.a.createElement("div",null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(s.b,{to:"/"},"Home")),a.a.createElement("li",null,a.a.createElement(s.b,{to:"/create"},"Create"))))},m=function(){return a.a.createElement("section",null,a.a.createElement(l,null))},E=n(21),h=n.n(E),u=n(23),y=n(121),f=n(122),p=(n(103),n(104),n(6)),R=n.n(p),U=n(37),d=n.n(U),v=n(38),A=n.n(v),O=n(39),B=n.n(O),M=n(123),g=n(124),b=n(125),T=n(126),C=n(32),S=n(33),Y=function(){function t(){Object(C.a)(this,t)}return Object(S.a)(t,null,[{key:"findValuesHelper",value:function(e,n){var o=[];if(!e)return o;if(e instanceof Array){for(var a in e)o=o.concat(t.findValuesHelper(e[a],n));return o}if(e[n]&&o.push(e[n]),"object"==typeof e&&null!==e){var i=Object.keys(e);if(i.length>0)for(var c=0;c<i.length;c++)o=o.concat(t.findValuesHelper(e[i[c]],n))}return o}}]),t}(),N=R.a.icon({iconUrl:d.a,shadowUrl:B.a,iconRetinaUrl:A.a});R.a.Marker.prototype.options.icon=N;var J=function(){var t=Object(o.useState)(null),e=Object(u.a)(t,2),i=e[0],c=e[1],s=Object(o.useState)([]),r=Object(u.a)(s,2),m=r[0],E=r[1],p=Object(o.useState)(null),R=Object(u.a)(p,2),U=(R[0],R[1]),d=Object(o.useState)([]),v=Object(u.a)(d,2);v[0],v[1];Object(o.useEffect)((function(){}),[]);var A=function(t){var e,o,a,i,c,s,r,l,m,E;return h.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return console.log("Loading ".concat(t.name,"...")),u.next=3,h.a.awrap(fetch(URL.createObjectURL(t)).then((function(t){return t.text()})));case 3:if(e=u.sent,o="",a=JSON.parse(e),!((i=Y.findValuesHelper(a,"startTimestampMs")).length<=0)){u.next=10;break}return console.error("Couldn't find any timestamps to match file format from."),u.abrupt("return");case 10:if(o=i[0],c=new Date(parseInt(o)),s=c.getUTCMonth(),!(2015===(r=c.getUTCFullYear())&&s<6)){u.next=17;break}return console.error("Files from before July 2015 are not yet supported."),u.abrupt("return");case 17:return l="".concat(c.toLocaleString("default",{month:"long"})).concat(r).toUpperCase(),u.next=20,h.a.awrap(n(105)("./".concat(r,"/semantic-location-history-").concat(l)));case 20:return m=u.sent,E=m.Convert["toSemanticLocationHistory".concat(l)](e),console.log("Loaded ".concat(t.name,"!")),u.abrupt("return",E);case 24:case"end":return u.stop()}}))},O=[];return m.length>0&&(O=function(){var t=[],e=!0,n=!1,o=void 0;try{for(var i,c=m[Symbol.iterator]();!(e=(i=c.next()).done);e=!0){var s=i.value.timelineObjects,r=!0,l=!1,E=void 0;try{for(var h,u=s[Symbol.iterator]();!(r=(h=u.next()).done);r=!0){var y=h.value.activitySegment;if(void 0!==y){var f=y.startLocation,p=y.endLocation;if(void 0!==f&&void 0!==p&&void 0!==f.latitudeE7&&void 0!==f.longitudeE7&&void 0!==p.latitudeE7&&void 0!==p.longitudeE7){var R=f.latitudeE7/1e7,U=f.longitudeE7/1e7,d=p.latitudeE7/1e7,v=p.longitudeE7/1e7,A=y.confidence,O=y.activities;t.push(a.a.createElement(M.a,{positions:[{lat:R,lng:U},{lat:d,lng:v}]},a.a.createElement(g.a,null,a.a.createElement("p",null,"Activities: ",O.map((function(t){return t.activityType})).join(", ")),a.a.createElement("p",null,"Confidence: ",A))))}}}}catch(B){l=!0,E=B}finally{try{r||null==u.return||u.return()}finally{if(l)throw E}}}}catch(B){n=!0,o=B}finally{try{e||null==c.return||c.return()}finally{if(n)throw o}}return t}(),console.log("creating activities")),a.a.createElement("section",null,a.a.createElement(l,null),a.a.createElement(y.a,{container:!0,spacing:0},a.a.createElement(y.a,{item:!0},a.a.createElement(f.a,{variant:"contained",component:"label"},a.a.createElement("span",null,"Select Semantic Files"),a.a.createElement("input",{type:"file",multiple:!0,accept:".json",style:{display:"none"},onChange:function(t){var e=t.currentTarget.files;null===e||e.length<1||c(e)}}))),a.a.createElement(y.a,{item:!0},a.a.createElement(f.a,{variant:"contained",component:"label"},a.a.createElement("span",null,"Select History Files"),a.a.createElement("input",{type:"file",multiple:!0,accept:".json",style:{display:"none"},onChange:function(t){var e=t.currentTarget.files;null===e||e.length<1||U(e)}}))),a.a.createElement(y.a,{item:!0},a.a.createElement(f.a,{variant:"contained",component:"label",onClick:function(){var t,e,n,o;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(void 0===i||null===i||i.length<=0)){a.next=3;break}return console.error("You must select files first."),a.abrupt("return");case 3:E([]),t=[],e=0;case 6:if(!(e<i.length)){a.next=15;break}return n=i[e],a.next=10,h.a.awrap(A(n));case 10:o=a.sent,t.push(o);case 12:e++,a.next=6;break;case 15:E(t);case 16:case"end":return a.stop()}}))}},a.a.createElement("span",null,"Parse")))),a.a.createElement("div",null,a.a.createElement(b.a,{center:{lat:0,lng:0},zoom:3,style:{height:"800px",width:"100%"}},a.a.createElement(T.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),O)))},L=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(s.a,{basename:"/"},a.a.createElement(r.c,null,a.a.createElement(r.a,{exact:!0,path:"/",component:m}),a.a.createElement(r.a,{exact:!0,path:"/create",component:J}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},90:function(t,e,n){t.exports=n(106)},95:function(t,e,n){},96:function(t,e,n){}},[[90,48,49]]]);
//# sourceMappingURL=main.410659c5.chunk.js.map